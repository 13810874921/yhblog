{"ast":null,"code":"var _jsxFileName = \"/Users/duoduo/Desktop/yh/yhblog/codeBolg/admin/src/pages/AddArticle.js\";\nimport React, { useState, useEffect } from \"react\";\nimport marked from \"marked\";\nimport \"../style/add-article.css\";\nimport { Input, Row, Col, Select, Button, DatePicker } from \"antd\";\nimport axios from 'axios';\nimport ApiUrl from '../config/urls';\nconst {\n  Option\n} = Select;\nconst {\n  TextArea\n} = Input;\n\nfunction AddArticle(props) {\n  const [articleId, setArticleId] = useState(0); // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\n\n  const [articleTitle, setArticleTitle] = useState(\"\"); //文章标题\n\n  const [articleContent, setArticleContent] = useState(\"\"); //markdown的编辑内容\n\n  const [markdownContent, setMarkdownContent] = useState(\"预览内容\"); //html内容\n\n  const [introducemd, setIntroducemd] = useState(); //简介的markdown内容\n\n  const [introducehtml, setIntroducehtml] = useState(\"等待编辑\"); //简介的html内容\n\n  const [showDate, setShowDate] = useState(); //发布日期\n\n  const [updateDate, setUpdateDate] = useState(); //修改日志的日期\n\n  const [typeInfo, setTypeInfo] = useState([]); // 文章类别信息\n\n  const [selectedType, setSelectType] = useState(1); //选择的文章类别\n\n  const renderer = new marked.Renderer();\n  marked.setOptions({\n    renderer: renderer,\n    gfm: true,\n    pedantic: false,\n    sanitize: false,\n    tables: true,\n    breaks: false,\n    smartLists: true,\n    smartypants: false\n  });\n\n  const changeContent = e => {\n    setArticleContent(e.target.value);\n    let html = marked(e.target.value);\n    setMarkdownContent(html);\n  };\n\n  const changeIntorduce = e => {\n    setIntroducemd(e.target.value);\n    let html = marked(e.target.value);\n    setIntroducehtml(html);\n  };\n\n  const getTypeInfo = () => {\n    axios({\n      method: \"get\",\n      url: ApiUrl.getTypeInfo,\n      withCredentials: true // 跨域检验cookie\n\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.data.code == -1) {\n        localStorage.removeItem('openId');\n        props.history.push('/');\n      } else {\n        setTypeInfo(res.data.data);\n      }\n    });\n  };\n\n  const selectTypeHandle = value => {\n    setTypeInfo(value);\n  };\n\n  useEffect(() => {\n    getTypeInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"\\u535A\\u5BA2\\u6807\\u9898\",\n    size: \"large\",\n    onChange: e => setArticleTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedType,\n    size: \"large\",\n    onChange: selectTypeHandle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, typeInfo.map((item, index) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 26\n      }\n    }, item.type_name);\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    gutter: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    className: \"markdown-content\",\n    rows: 35,\n    placeholder: \"\\u6587\\u7AE0\\u5185\\u5BB9\",\n    onChange: changeContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"show-html\",\n    dangerouslySetInnerHTML: {\n      __html: markdownContent\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    span: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"\\u6682\\u5B58\\u6587\\u7AE0\"), \"\\u2003\", /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"\\u53D1\\u5E03\\u6587\\u7AE0\")), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    row: 4,\n    placeholder: \"\\u6587\\u7AE0\\u7B80\\u4ECB\",\n    onChange: changeIntorduce,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"introduce-html\",\n    dangerouslySetInnerHTML: {\n      __html: introducehtml\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    placeholder: \"\\u53D1\\u5E03\\u65E5\\u671F\",\n    size: \"large\",\n    onChange: (date, dateString => setShowDate(dateString)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  })))))));\n}\n\nexport default AddArticle;","map":{"version":3,"sources":["/Users/duoduo/Desktop/yh/yhblog/codeBolg/admin/src/pages/AddArticle.js"],"names":["React","useState","useEffect","marked","Input","Row","Col","Select","Button","DatePicker","axios","ApiUrl","Option","TextArea","AddArticle","props","articleId","setArticleId","articleTitle","setArticleTitle","articleContent","setArticleContent","markdownContent","setMarkdownContent","introducemd","setIntroducemd","introducehtml","setIntroducehtml","showDate","setShowDate","updateDate","setUpdateDate","typeInfo","setTypeInfo","selectedType","setSelectType","renderer","Renderer","setOptions","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","changeContent","e","target","value","html","changeIntorduce","getTypeInfo","method","url","withCredentials","then","res","console","log","data","code","localStorage","removeItem","history","push","selectTypeHandle","map","item","index","id","type_name","__html","date","dateString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport marked from \"marked\";\nimport \"../style/add-article.css\";\nimport { Input, Row, Col, Select, Button, DatePicker } from \"antd\";\nimport axios from 'axios'\nimport ApiUrl from '../config/urls'\nconst { Option } = Select;\nconst { TextArea } = Input;\n\n\nfunction AddArticle(props) {\n  const [articleId, setArticleId] = useState(0); // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\n  const [articleTitle, setArticleTitle] = useState(\"\"); //文章标题\n  const [articleContent, setArticleContent] = useState(\"\"); //markdown的编辑内容\n  const [markdownContent, setMarkdownContent] = useState(\"预览内容\"); //html内容\n  const [introducemd, setIntroducemd] = useState(); //简介的markdown内容\n  const [introducehtml, setIntroducehtml] = useState(\"等待编辑\"); //简介的html内容\n  const [showDate, setShowDate] = useState(); //发布日期\n  const [updateDate, setUpdateDate] = useState(); //修改日志的日期\n  const [typeInfo, setTypeInfo] = useState([]); // 文章类别信息\n  const [selectedType, setSelectType] = useState(1); //选择的文章类别\n\n  const renderer = new marked.Renderer()\n    marked.setOptions({\n        renderer:renderer,\n        gfm:true,\n        pedantic:false,\n        sanitize:false,\n        tables:true,\n        breaks:false,\n        smartLists:true,\n        smartypants:false\n    })\n\n  const changeContent = e =>{\n      setArticleContent(e.target.value)\n      let html = marked(e.target.value)\n      setMarkdownContent(html)\n  }\n  const changeIntorduce = e =>{\n      setIntroducemd(e.target.value)\n      let html = marked(e.target.value)\n      setIntroducehtml(html)\n  }\n\n  const getTypeInfo =()=>{\n    axios({\n      method:\"get\",\n      url:ApiUrl.getTypeInfo,\n      withCredentials:true // 跨域检验cookie\n    }).then(res=>{\n      console.log(res.data)\n      if(res.data.code==-1){\n        localStorage.removeItem('openId')\n        props.history.push('/')\n      }else{\n        setTypeInfo(res.data.data)\n      }\n    })\n  }\n\n  const selectTypeHandle=value=>{\n    setTypeInfo(value)\n  }\n\n  useEffect(()=>{\n    getTypeInfo()\n  },[])\n  return (\n    <div>\n      <Row gutter={10}>\n        <Col span={18}>\n          <Row gutter={20}>\n            <Col span={20}>\n              <Input placeholder=\"博客标题\" size=\"large\" onChange={e=>setArticleTitle(e.target.value)}/>\n            </Col>\n            <Col span={4}>\n              <Select defaultValue={selectedType} size=\"large\" onChange={selectTypeHandle}>\n                {\n                  typeInfo.map((item,index)=>{\n                  return <Option key={index} value={item.id}>{item.type_name}</Option>\n                  })\n                }\n              </Select>\n            </Col>\n          </Row>\n          <br />\n          <Row gutter={10}>\n            <Col span={12}>\n              <TextArea\n                className=\"markdown-content\"\n                rows={35}\n                placeholder=\"文章内容\"\n                onChange={changeContent}\n              />\n            </Col>\n            <Col span={12}>\n              <div className=\"show-html\"\n              dangerouslySetInnerHTML={{__html:markdownContent}}>\n              </div>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={6}>\n          <Row>\n            <Col span={24}>\n              <Button size=\"large\">暂存文章</Button>&emsp;\n              <Button type=\"primary\" size=\"large\">\n                发布文章\n              </Button>\n            </Col>\n            <Col span={24}>\n              <br />\n              <TextArea row={4} placeholder=\"文章简介\" onChange={changeIntorduce} />\n              <div className=\"introduce-html\"\n              dangerouslySetInnerHTML={{__html:introducehtml}}\n              ></div>\n            </Col>\n            <Col span={12}>\n              <br />\n              <div className=\"data-select\">\n                <DatePicker placeholder=\"发布日期\" size=\"large\" onChange={(date,dateString=>(setShowDate(dateString)))}/>\n              </div>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default AddArticle;\n"]},"metadata":{},"sourceType":"module"}